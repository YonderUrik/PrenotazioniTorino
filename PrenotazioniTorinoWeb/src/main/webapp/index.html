<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
    <META HTTP-EQUIV="Expires" CONTENT="-1">
    <title>Ripetizioni Torino</title>
    <link rel="icon" href="img/logo_small_icon_only.png"  type="icon"/>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>


</head>
<body>
<!--Login Form-->
<div id="login" v-show = "show">
    <p>Email <input v-model="email" type="text"/></p>
    <p>Password: <input v-model="password" type="password"/></p>
    <button type="button" v-on:click="this.login">Login</button>
    <p><button type="button" v-on:click="this.passtosignup"> Registrati</button></p>
</div>

<!--Signup Form-->
<div id="sign-up" v-show = "this.show">
    <p>Nome: <input v-model="nome" type="text"/></p>
    <p>Cognome: <input v-model="cognome" type="text"/></p>
    <p>Email: <input v-model="email" type="text"/></p>
    <p>Password: <input v-model="password" type="password"></p>
    <button type="button" v-on:click="this.signup">Registrati</button>
</div>

<script>
    var login= new Vue({
        el:'#login',
        data:{
            sessione:'sessione inesistente',
            email:'guest',
            password:'',
            link: 'aut-servlet',
            show: true

        },
        mounted: function () {
            console.log("MOUNTED")
        },
        methods: {
            login:function(){
                var self=this;
                if(self.sessione === 'sessione inesistente')
                    $.post(this.link, {utente: this.email, password: this.password}, function (data){

                    });
                else
                    $.post(this.link,{utente:this.email, password: this.password, sessione:this.sessione},
                        function (data){

                        });
            },
            passtosignup:function (){
                this.show = !this;
                signup.show = !signup.show;
            }
        }
    })

    var signup = new Vue({
        el:'#sign-up',
        data:{
            nome:'',
            cognome:'',
            email:'',
            password:'',
            link: 'signup-servlet',
            show: false
        },
        methods:{
            signup:function (){
                $.post(this.link,{nome: this.nome, cognome: this.cognome, email: this.email, password:this.password},function(data){

                });
                this.show = !this;
                login.show = !login.show;
            }
        }

    })
</script>


<!--  -->



</body>
</html>